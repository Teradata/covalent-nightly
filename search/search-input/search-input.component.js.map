{"version":3,"file":"search-input.component.js","sourceRoot":"","sources":["../../../../../src/platform/core/search/search-input/search-input.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ViewChild, OnInit, Input, Output, EventEmitter, Optional } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { FormControl } from '@angular/forms';\nimport { Dir } from '@angular/cdk';\nimport { MdInputDirective } from '@angular/material';\nimport { debounceTime } from 'rxjs/operator/debounceTime';\nimport { skip } from 'rxjs/operator/skip';\n\n@Component({\n  selector: 'td-search-input',\n  templateUrl: './search-input.component.html',\n  styleUrls: ['./search-input.component.scss' ],\n  animations: [\n    trigger('searchState', [\n      state('hide-left', style({\n        transform: 'translateX(-150%)',\n        display: 'none',\n      })),\n      state('hide-right', style({\n        transform: 'translateX(150%)',\n        display: 'none',\n      })),\n      state('show',  style({\n        transform: 'translateX(0%)',\n        display: 'block',\n      })),\n      transition('* => show', animate('200ms ease-in')),\n      transition('show => *', animate('200ms ease-out')),\n    ]),\n  ],\n})\nexport class TdSearchInputComponent implements OnInit {\n\n  @ViewChild(MdInputDirective) _input: MdInputDirective;\n\n  value: string;\n\n  /**\n   * showUnderline?: boolean\n   * Sets if the input underline should be visible. Defaults to 'false'.\n   */\n  @Input('showUnderline') showUnderline: boolean = false;\n\n  /**\n   * debounce?: number\n   * Debounce timeout between keypresses. Defaults to 400.\n   */\n  @Input('debounce') debounce: number = 400;\n\n  /**\n   * placeholder?: string\n   * Placeholder for the underlying input component.\n   */\n  @Input('placeholder') placeholder: string;\n\n  /**\n   * searchDebounce: function($event)\n   * Event emitted after the [debounce] timeout.\n   */\n  @Output('searchDebounce') onSearchDebounce: EventEmitter<string> = new EventEmitter<string>();\n\n  /**\n   * search: function($event)\n   * Event emitted after the key enter has been pressed.\n   */\n  @Output('search') onSearch: EventEmitter<string> = new EventEmitter<string>();\n\n  /**\n   * clear: function()\n   * Event emitted after the clear icon has been clicked.\n   */\n  @Output('clear') onClear: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * blur: function()\n   * Event emitted after the blur event has been called in underlying input.\n   */\n  @Output('blur') onBlur: EventEmitter<void> = new EventEmitter<void>();\n\n  get isRTL(): boolean {\n    if (this._dir) {\n      return this._dir.dir === 'rtl';\n    }\n    return false;\n  }\n\n  constructor(@Optional() private _dir: Dir) {\n  }\n\n  ngOnInit(): void {\n    debounceTime.call(\n      skip.call(this._input._ngControl.valueChanges, 1), // skip first change when value is set to undefined\n      this.debounce)\n      .subscribe((value: string) => {\n        this._searchTermChanged(value);\n      });\n  }\n\n  /**\n   * Method to focus to underlying input.\n   */\n  focus(): void {\n    this._input.focus();\n  }\n\n  handleBlur(): void {\n    this.onBlur.emit(undefined);\n  }\n\n  stopPropagation(event: Event): void {\n    event.stopPropagation();\n  }\n\n  handleSearch(event: Event): void {\n    this.stopPropagation(event);\n    this.onSearch.emit(this.value);\n  }\n\n  clearSearch(): void {\n    this.value = '';\n    this.onClear.emit(undefined);\n  }\n\n  private _searchTermChanged(value: string): void {\n    this.onSearchDebounce.emit(value);\n  }\n\n}\n"]}